# fio

## что тестируется

скрипт предназначен для выполнения тестов дисковой производительности с использованием инструмента Flexible I/O Tester (FIO) с различными размерами блоков.

## как настраивать скрипт

в .env файле можно настроить следующие переменные:

```env
CONFIG_FILE=<путь_к_файлу_конфигурации_fio>
LOG_DIR=<путь_к_директории_с_логами>
```

также необходимо задать шаблон конфигурации FIO, содержащий шаблоны ${BLOCK_SIZE} и ${LOG_DIR}, которые будут заменены на актуальные значения.

## результаты тестирования

результаты выполнения записываются в файл по пути `/results/fio_results.txt`. эти результаты дают представление о том, насколько эффективно обрабатывается работа с дисковой системой в заданных условиях тестирования. они включают включают в себя следующие параметры (в зависимости от размера блока):

- **IOPS (Input/Output Operations Per Second):** количество операций ввода-вывода в секунду.
- **BW (Bandwidth):** пропускная способность.
- **объем данных**.
- **clat и lat:** подробная статистика латентности (client latency и общее время ожидания) с распределением среди операций ввода-вывода.
- **показатели в процентах (percentiles):** распределение задержек.
- **bw (MiB/s):** минимальная, максимальная, и средняя пропускная способность (меньшая погрешность, указывающая на стабильность).
- **iops:** минимум, максимум, среднее и стандартное отклонение по операциям в секунду.
- **lat (usec/msec):** проценты задержек операций в микросекундах и миллисекундах.
- **usr:** процент времени CPU в режиме пользователя.
- **sys:** процент времени CPU в системных вызовах.
- **ctx:** писло переключений контекста.
- **majf/minf:** число больших и малых отказов page-файлов.
- **IO Depths:** распределение глубины ввода-вывода — сколько заявок находилось в очереди в любой момент времени.
- **submit/complete:** распределение завершений операций ввода-вывода.
- **issued rwts:** полное количество выданных команд чтения/записи.
