# k6 и grafana

этот скрипт предназначен для тестирования производительности и надежности API через последовательные HTTP GET-запросы. он проводит проверку времени отклика, статуса ответа, и правильности структуры возвращаемых данных.

## что тестируется

- метрики:
  - Trend: `response_time_categories`, `response_time_cuisines`, `response_time_ingredients` — метрики для отслеживания времени выполнения для каждого из запросов.
  - Rate: `error_rate` — метрика для отслеживания процента ошибок, возникающих при тестировании.

- конфигурация опций:
  - Тresholds:
    - время отклика для 95-го перцентиля (`p(95)<400ms`) должно быть меньше 400 мс для каждой из точек доступа.
    - `error_rate`: процент ошибок должен быть менее 5% (`rate<0.05`).
  
  - Stages:
    - накопление нагрузки: 200 виртуальных пользователей в течение 30 секунд (0.5m).
    - остановка нагрузки: возвращение до нуля пользователей в течение следующих 30 секунд (0.5m).

## запросы и проверки

скрипт выполняет запросы к следующим эндпоинтам API:

1. `/get-categories`
2. `/get-cuisines`
3. `/get-ingredients`

## настройка скрипта

можно задать пороговые значения в `thresholds`, если имеются другие требования к производительности системы.

## результаты тестирования

результаты выполнения записываются в файл по пути `/results/k6_results.txt`.

если не выполняются выставленные условия, то скрипт завершает исполнение с ошибкой.
